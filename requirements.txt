# ========================================
# 核心依赖
# ========================================

# LangChain 核心组件
langchain>=0.3.0
langchain-core>=0.3.0
langchain-openai>=0.2.0  # OpenAI/兼容接口支持
langgraph>=0.2.0  # 工作流编排
langgraph-checkpoint>=2.0.0  # 状态管理
langgraph-checkpoint-sqlite>=2.0.0  # SQLite 持久化（AsyncSqliteSaver）

# ========================================
# 模型提供商
# ========================================

# Qwen (通义千问) - ChatTongyi
dashscope>=1.14.0  # 阿里云SDK，ChatTongyi依赖
langchain-community>=0.3.0  # 包含ChatTongyi

# DeepSeek - ChatDeepSeek  
langchain-deepseek>=0.1.0  # DeepSeek专用包

# ========================================
# 工具依赖
# ========================================

# 环境变量管理
python-dotenv>=1.0.0

# 网络爬虫
crawl4ai>=0.3.0  # 主要爬虫框架
beautifulsoup4>=4.11.0  # HTML解析器：备用爬虫方案
pypdf>=4.0.0  # PDF文本提取
aiohttp>=3.9.0  # 异步HTTP客户端

# 文本差异对比
diff-match-patch>=20230430

# ========================================
# 数据库
# ========================================

# SQLAlchemy ORM（异步支持）
sqlalchemy[asyncio]>=2.0.0
# ⚠️ aiosqlite 必须锁定 0.21.0
# 0.22.0 移除了 Connection 对 threading.Thread 的继承，导致 is_alive() 方法丢失
# langgraph-checkpoint-sqlite 在初始化时调用 conn.is_alive() 会引发 AttributeError
# 详见: https://github.com/omnilib/aiosqlite/releases/tag/v0.22.0
aiosqlite==0.21.0